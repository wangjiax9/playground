{"version":3,"sources":["../../../../../assets/script/cc/assets/script/cc/Loading.ts"],"names":[],"mappings":";;;;;AAAA,mCAA6B;AAEvB,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAkB;AAG3C;IAAqC,2BAAY;IADjD;QAAA,qEAuBC;QAnBS,cAAQ,GAAY,IAAI,CAAA;QAExB,iBAAW,GAAY,KAAK,CAAA;;IAiBtC,CAAC;IAfW,wBAAM,GAAhB;QACE,YAAE,CAAC,UAAU,CAAC,IAAI,EAAE,CAAA;QACpB,0BAA0B;IAC5B,CAAC;IAES,wBAAM,GAAhB;QACE,IAAI,YAAE,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,EAAE;YACnC,OAAO;YACP,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,YAAE,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,CAAA;SAC9E;QACD,IAAI,YAAE,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,GAAG,IAAK,CAAC,IAAI,CAAC,WAAW,EAAE;YAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;YACvB,YAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;SACxB;IACH,CAAC;IAlBD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACc;IAHb,OAAO;QAD3B,OAAO;OACa,OAAO,CAsB3B;IAAD,cAAC;CAtBD,AAsBC,CAtBoC,EAAE,CAAC,SAAS,GAsBhD;kBAtBoB,OAAO","file":"","sourceRoot":"../../../../../assets/script/cc","sourcesContent":["import GM from '../global/GM'\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class Loading extends cc.Component {\n\n  @property(cc.Node)\n  private progress: cc.Node = null\n\n  private isSwitching: boolean = false\n\n  protected onLoad () {\n    GM.resManager.load()\n    // GM.switchScene('login')\n  }\n  \n  protected update () {\n    if (GM.resManager.getCurPer() < 100) {\n      // 加载进度\n      this.progress.getComponent(cc.Label).string = GM.resManager.getCurPer() + '%'\n    }\n    if (GM.resManager.getCurPer() >= 100  && !this.isSwitching) {\n      this.isSwitching = true\n      GM.switchScene('login')\n    }\n  }\n}"]}